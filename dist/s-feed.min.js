function sfeed_admin_static_event_listeners(){document.querySelector(".sfeed-user-add")&&document.querySelectorAll(".sfeed-user-add").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".sfeed-users").innerHTML+='<div class="sfeed-user"><div class="sfeed-user-header"><button class="sfeed-user-remove">âœ•</button></div><form class="sfeed-user-form"><div><label>S-Feed URL:</label><input type="text" name="sfeed-url" class="sfeed-url" value=""> </div> </form><div class="sfeed-user-options"><a class="_button sfeed-user-key" target="_blank" href="https://social-feed.tech/">Retrieve S-Feed URL</a><p>Click "Save" below to register this new S-Feed URL to the database.</p><p class="sfeed-user-status">Status: New User</p></div><button class="sfeed-user-save">Save</button></div>',sfeed_admin_dynamic_event_listeners()})})}function sfeed_admin_dynamic_event_listeners(){document.querySelector(".sfeed-user-remove")&&document.querySelectorAll(".sfeed-user-remove").forEach(s=>{s.addEventListener("click",e=>{confirm("Are you sure you want to remove this user?")&&(sfeed_remove_url(s.closest(".sfeed-user").querySelector("input.sfeed-url").value),e.target.closest(".sfeed-user").remove())})}),document.querySelector(".sfeed-user-save")&&document.querySelectorAll(".sfeed-user-save").forEach(s=>{s.addEventListener("click",e=>{s.disabled=!0,s.innerText="Saving..",sfeed_save_url(s.closest(".sfeed-user").querySelector("input.sfeed-url").value)})})}function sfeed_save_url(e){e=encodeURIComponent(e);console.log("Request:",e),fetch(sfeed.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),credentials:"same-origin",body:"action=sfeed_save_url&url="+e+"&nonce="+sfeed.nonce}).then(e=>e.text()).then(e=>{console.log("Response:",e),document.querySelectorAll(".sfeed-user-save").forEach(e=>{e.innerText="Saved!"}),setTimeout(()=>{document.querySelectorAll(".sfeed-user-save").forEach(e=>{e.disabled=!1,e.innerText="Save",window.location.reload()})},1e3)}).catch(function(e){return console.log(e),e})}function sfeed_remove_url(e){e=encodeURIComponent(e);console.log("Request:",e),fetch(sfeed.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),credentials:"same-origin",body:"action=sfeed_remove_url&url="+e+"&nonce="+sfeed.nonce}).then(e=>e.text()).then(e=>{console.log("Response:",e)}).catch(function(e){return console.log(e),e})}window.addEventListener("DOMContentLoaded",sfeed_admin_static_event_listeners),window.addEventListener("DOMContentLoaded",sfeed_admin_dynamic_event_listeners);